<tool id="phytab_raxml_using_ptree_parallel" name="RAxML using Starting trees" version="1.0">
  <description>optimizes branch lengths on provided tree(s)</description>
  <requirements>
    <requirement type="package">raxml</requirement>
  </requirements>
  <command interpreter="python">
    phytab_raxml_using_ptree.parallel.py -i $phytabinput -e $evo -f $efile -t $startingPtreelist -T 4> $stdout 2>&amp;1
  </command>
<!-- if using a queuing system, make sure number of ppn in jobrunner matches threads as set above -->
  <inputs>
    <param format="tabular" name="phytabinput" type="data" label="PHYTAB sequence file"/>
    <param format="tabular" name="startingPtreelist" type="data" label="Starting trees" help="(e.g., tree list output from PHYTAB RAxML Parsimony.)"/>
    <param name="evo" type="select" format="text">
      <label>Model of evolution to apply to all data partitions (-m)</label>
      <option value="GTRGAMMA">GTRGAMMA</option> <option value="PROTGAMMADAYHOFF">PROTGAMMADAYHOFF</option> <option value="PROTGAMMADCMUT">PROTGAMMADCMUT</option> <option 
value="PROTGAMMAJTT">PROTGAMMAJTT</option> <option value="PROTGAMMAMTREV">PROTGAMMAMTREV</option> <option value="PROTGAMMAWAG">PROTGAMMAWAG</option> <option 
value="PROTGAMMARTREV">PROTGAMMARTREV</option> <option value="PROTGAMMACPREV">PROTGAMMACPREV</option> <option value="PROTGAMMAVT">PROTGAMMAVT</option> <option 
value="PROTGAMMABLOSUM62">PROTGAMMABLOSUM62</option> <option value="PROTGAMMAMTMAM">PROTGAMMAMTMAM</option> <option value="PROTGAMMALG">PROTGAMMALG</option> <option 
value="PROTGAMMAMTART">PROTGAMMAMTART</option> <option value="PROTGAMMAMTZOA">PROTGAMMAMTZOA</option> <option value="PROTGAMMAPMB">PROTGAMMAPMB</option> <option 
value="PROTGAMMAHIVB">PROTGAMMAHIVB</option> <option value="PROTGAMMAHIVW">PROTGAMMAHIVW</option> <option value="PROTGAMMAJTTDCMUT">PROTGAMMAJTTDCMUT</option> <option 
value="PROTGAMMAFLU">PROTGAMMAFLU</option> <option value="PROTGAMMAGTR">PROTGAMMAGTR</option>
    </param>
    <param format="txt" name="efile" type="data" optional="true" value="n" label="Tab seperated file with partition name in first column, evolutionary model in the second column. Must be RAxML 
valid model names. (optional)"/>
  
  </inputs>
  <outputs>
    <data format="txt" name="stdout" label="${tool.name} on ${on_string}: stdout" />
    <data format="tabular" name="results.phy" label="${tool.name} on ${on_string}: results" from_work_dir="results/results.phy" />
  </outputs>
  <tests>
  </tests>
  <help>

**What it does**

This tool estimates likelihood trees and branch lengths for a PHYTAB file using starting trees (e.g., parsimony trees) to accelerate tree estimation.  

-------
**Input requirements**
 
1. PHYTAB sequence file
2. Starting tree list: two tab-delimited columns with the partition(gene) name and its newick starting tree (generated by PHYTAB RAxML-Parsimony)::

    geneA   (((Species_a,Species_b),Species_c),Species_d); 
    geneB   ((Species_a,Species_b),(Species_c,Species_d)); 

See phytab description here: http://osiris-phylogenetics.blogspot.com/2012/09/introduction-to-phytab-format.html
-------

Please direct questions or comments to ucsb_phylogenetics@lifesci.ucsb.edu or, if you can, enter them on the osiris_phylogenetics site at bitbucket.org

-------    

**Citations**   

This tool is part of the Osiris Phylogenetics Tool Package for Galaxy. If you make extensive use of this tool in a publication, please consider citing the following.

Current Osiris Citation is here

http://osiris-phylogenetics.blogspot.com/2012/10/citation.html

  </help>
</tool>

